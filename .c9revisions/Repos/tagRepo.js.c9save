{"ts":1381926635928,"silentsave":true,"restoring":false,"patch":[[]],"length":0}
{"contributors":[],"silentsave":false,"ts":1381926601097,"patch":[[{"diffs":[[1,"var databaseUrl = \"sa:ds@ds053497.mongolab.com:53497/noddydb\"; // \"username:password@example.com/mydb\"\n\nvar collections = [\"tags\"]\nvar mongojs = require(\"mongojs\");\nvar ObjectId = mongojs.ObjectId;\nvar db = require(\"mongojs\").connect(databaseUrl, collections);\n\n\nexports.insertTags = function(tag) {\n\n\tdb.tags.save(tag, function(err) {\n  \t\tif (err) {\n  \t\t\tconsole.log(err);\n  \t\t\treturn;\n  \t\t};\n  \t\tconsole.log(\"tag Saved\");\n  \t});\n}\n\n\n//TODO :: Need to implement the user id \n  exports.getNodds = function(name  , onDone) {\n  \treturn db.tags.find({TagName : name}, function(err , docs) {\n      onDone(docs);\n     });\n  }\n\n\n  exports.getNodd = function(id  , onDone) {\n    return db.tags.find({_id: ObjectId(id)}, function(err , docs) {\n      if (docs[0] != undefined) {\n          if(typeof docs[0].Tags == Array )\n            docs[0].Tags = docs[0].Tags.toString.join();\n      }\n       if (docs[0] != undefined) {\n          if(typeof docs[0].Modules == Array )\n            docs[0].Modules = docs[0].Modules.toString.join();\n      }\n      onDone(docs[0]);\n     });\n  }\n  \n\n  exports.DeleteNodd = function(id , onDone) {\n  \n     db.tags.remove({ _id: ObjectId(id) }, true ,function (err) {\n        onDone();\n    });\n  }\n\nexports.updateNodd  = function(nodd , onDone) {\n    nodd.UpdatedOn = new Date();\n    var id  = nodd._id;\n   if (nodd.Tags != undefined || nodd.Tags !== \"\") {\n    nodd.Tags = nodd.Tags.split(',');\n   }\n    if (nodd.Modules != undefined || nodd.Modules !== \"\") {\n    nodd.Modules = nodd.Modules.split(',');\n   }\n    delete nodd._id; \n     db.tags.update( { _id: ObjectId(id) },{$set: nodd}, function (err) {\n  \n    onDone();\n});\n}"]],"start1":0,"start2":0,"length1":0,"length2":1647}]],"length":1647,"saved":false}
{"ts":1381926775208,"patch":[[{"diffs":[[0,"(tag) {\n"],[-1,"\n"],[1,"Private_getTag(tag , function (tag) {\n    if (tag == null)\n    {\n    "],[0,"\tdb.tags"]],"start1":292,"start2":292,"length1":17,"length2":85},{"diffs":[[0,"tion(err) {\n"],[1,"    "],[0,"  \t\tif (err)"]],"start1":392,"start2":392,"length1":24,"length2":28},{"diffs":[[0,"(err) {\n"],[1,"    "],[0,"  \t\t\tcon"]],"start1":415,"start2":415,"length1":16,"length2":20},{"diffs":[[0,"g(err);\n"],[1,"    "],[0,"  \t\t\tret"]],"start1":442,"start2":442,"length1":16,"length2":20},{"diffs":[[0,"rn;\n"],[1,"    "],[0,"  \t\t};\n"],[1,"    "],[0,"  \t\t"]],"start1":463,"start2":463,"length1":15,"length2":23},{"diffs":[[0,"\");\n"],[1,"    "],[0,"  \t});\n"],[-1,"}"],[1,"    }\n}    \n});\n"],[0,"\n\n\n/"]],"start1":508,"start2":508,"length1":16,"length2":35},{"diffs":[[0,"nd({"],[-1,"TagName : name"],[0,""],[1,""],[0,"}, f"]],"start1":651,"start2":651,"length1":22,"length2":8},{"diffs":[[0,"s.find({"],[-1,"_id: ObjectId(id)"],[1,"TagName : name"],[0,"}, funct"]],"start1":778,"start2":778,"length1":33,"length2":30},{"diffs":[[0,"    "],[-1,"if (docs[0] != undefined) {\n          if(typeof docs[0].Tags == Array )\n        "],[1,"    onDone(docs[0]);\n     });\n  }\n"],[0,"  "],[1,"\n"],[0,"  "],[-1,"docs[0].Tags = docs[0].Tags.toString.join();\n      }\n       if (docs[0] != undefi"],[1,"function Private_getTag(id  , onDo"],[0,"ne"],[-1,"d"],[0,") {\n    "],[-1," "],[-1,"     if(typeof docs[0].Modules == Array )\n            docs[0].Modules = docs[0].Modules.toString.join();"],[1,"return db.tags.find({TagName : name}, function(err , docs) {"],[0,"\n    "],[-1,"  }\n"],[0,"    "]],"start1":828,"start2":828,"length1":298,"length2":156}]],"length":1595,"saved":false}
{"ts":1381926804222,"patch":[[{"diffs":[[0,"orts.get"],[-1,"Nodd"],[1,"Tag"],[0,"s = func"]],"start1":588,"start2":588,"length1":20,"length2":19},{"diffs":[[0,"orts.get"],[-1,"Nodd"],[1,"Tag"],[0," = funct"]],"start1":720,"start2":720,"length1":20,"length2":19}]],"length":1593,"saved":false}
{"ts":1381926845949,"patch":[[{"diffs":[[0,"s.Delete"],[-1,"Nodd"],[1,"Tag"],[0," = funct"]],"start1":1026,"start2":1026,"length1":20,"length2":19},{"diffs":[[0,"remove({"],[-1," _id: ObjectId(id) "],[1,"TagName : name"],[0,"}, true "]],"start1":1080,"start2":1080,"length1":35,"length2":30},{"diffs":[[0,"  }\n"],[-1,"\nexports.updateNodd  = function(nodd , onDone) {\n    nodd.UpdatedOn = new Date();\n    var id  = nodd._id;\n   if (nodd.Tags != undefined || nodd.Tags !== \"\") {\n    nodd.Tags = nodd.Tags.split(',');\n   }\n    if (nodd.Modules != undefined || nodd.Modules !== \"\") {\n    nodd.Modules = nodd.Modules.split(',');\n   }\n    delete nodd._id; \n     db.tags.update( { _id: ObjectId(id) },{$set: nodd}, function (err) {\n  \n    onDone();\n});\n}"]],"start1":1154,"start2":1154,"length1":433,"length2":4}]],"length":1158,"saved":false}
{"ts":1381926912385,"patch":[[{"diffs":[[0,"(tag) {\n"],[1,"    "],[0,"Private_"]],"start1":292,"start2":292,"length1":16,"length2":20},{"diffs":[[0,"nction ("],[1,"_"],[0,"tag) {\n "]],"start1":327,"start2":327,"length1":16,"length2":17},{"diffs":[[0,") {\n    "],[1,"  "],[1,"  "],[0,"if ("],[1,"_"],[0,"tag == n"]],"start1":339,"start2":339,"length1":20,"length2":25},{"diffs":[[0,"ll)\n    "],[1,"   "],[1," "],[0,"{\n"],[1,"    "],[0,"    \tdb."]],"start1":365,"start2":365,"length1":18,"length2":26},{"diffs":[[0,"{\n      "],[1,"    "],[0,"\t\tif (er"]],"start1":420,"start2":420,"length1":16,"length2":20},{"diffs":[[0,"{\n      "],[1,"   "],[1," "],[0,"\t\t\tconso"]],"start1":443,"start2":443,"length1":16,"length2":20},{"diffs":[[0,";\n      "],[1,"    "],[0,"\t\t\tretur"]],"start1":474,"start2":474,"length1":16,"length2":20},{"diffs":[[0,"    "],[1,"  "],[1,"  "],[0,"\t\t};\n"],[1,"    "],[0,"    "]],"start1":499,"start2":499,"length1":13,"length2":21},{"diffs":[[0,";\n      "],[1,"    "],[0,"\t});\n   "]],"start1":548,"start2":548,"length1":16,"length2":20},{"diffs":[[0,"});\n    "],[1,"  "],[-1,"}\n"],[1,"  }\n    "],[0,"}    \n})"]],"start1":561,"start2":561,"length1":18,"length2":26}]],"length":1208,"saved":false}
{"ts":1381927565963,"patch":[[{"diffs":[[0,"  } "],[1,");"],[0,"   \n}"],[-1,");"],[0,"\n\n\n\n"]],"start1":577,"start2":577,"length1":15,"length2":15}]],"length":1208,"saved":false}
