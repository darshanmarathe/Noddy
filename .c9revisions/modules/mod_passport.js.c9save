{"ts":1381385856678,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"var passport =  require('passport')\n\t  , LocalStrategy = require('passport-local').Strategy\n\t  , _userRepo = require('./../Repos/userRepo');\n\npassport.use(new LocalStrategy(\n  function(username, password, done) {\n  \t_userRepo.getuser(username, function(user){\n      console.log(user[0]);\n  \t\tif (user.length == 0) {\n\n\t\t\t   return done(null, false, { message: 'Incorrect username or password.' });\n  \t\t}else{\n      \n        if (user[0].Password.toString() == password) {\n    \t\t\t\n          return done(null, user);\n        }else{\n          return done(null, false, { message: 'Incorrect username or password.' });\n        }\n  \t\t}\n  \t\t\t\n  \t});\n\n   \t\t\n   \t\n\n   \n  }\n));\n\n\npassport.serializeUser(function(user, done) {\n    done(null, user[0]._id);\n});\n\npassport.deserializeUser(function(id, done) {\n  _userRepo.getuserByID(id , function(user) {\n   \n    done(null, user[0]._id);\n  })\n   \t\t\t\n});"]],"start1":0,"start2":0,"length1":0,"length2":888}]],"length":888}
{"contributors":[],"silentsave":false,"ts":1381386549253,"patch":[[{"diffs":[[0,";\n\n "],[-1,"  \t\t\n   \t\n\n   \n"],[0,"  }\n"]],"start1":639,"start2":639,"length1":23,"length2":8}]],"length":873,"saved":false}
