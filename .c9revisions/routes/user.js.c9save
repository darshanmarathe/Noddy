{"ts":1381386836621,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"/*\n * GET users listing.\n */\n\nvar passport =  require('passport');\nvar _userRepo = require('./../Repos/userRepo');\n\nexports.signup = function(req, res){\n\tif (req.isAuthenticated()) {\n\t\tres.render('users/signup', { title: 'You are already logged in' , layout: \"userLayout\" , islooged : req.isAuthenticated()});\n\t\t};\n  res.render('users/signup', { title: 'Welcome to Noddy - your node js stop' });\n};\n\n\nexports.signupPost =function(req , res) {\n\t\n\tvar user = req.body.user;\n\tdelete user.ConfPassword;\n\t_userRepo.insertUser(user);\n\tres.redirect('users/login');\n}\n\n\nexports.login = function(req, res) {\n \tres.render('users/login', { title: 'Welcome to Noddy - your node js stop'  });\n}\n\n\nexports.signIn = function(req, res) {\n \tres.render('users/signin', { title: 'Welcome to Noddy - your node js stop' , layout: \"userLayout\" });\n}\n\n\n\n\nexports.define =   function(app, routes) {\n\tapp.get('/users/signup', routes.signup);\n\tapp.post('/users/signup' , routes.signupPost)\n\tapp.get('/users/signIn' , routes.signIn);\n\tapp.get('/users/login' , routes.login);\n\tapp.post('/users/signin',\n  \tpassport.authenticate('local', { successRedirect: '/members/mynodds',\n                                   failureRedirect: '/users/login' }));\n}"]],"start1":0,"start2":0,"length1":0,"length2":1221}]],"length":1221}
