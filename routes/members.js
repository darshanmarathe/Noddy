var passport =  require('passport');var _userRepo = require('./../Repos/userRepo');var _noddRepo = require('./../Repos/noddRepo');var _ = require('underscore');exports.mynodds =function(req , res) {	if (!req.isAuthenticated()) {res.redirect('/')};	_userRepo.getusers(function(users) {		res.render('members/mynodds', { title: 'Noddy haan' , model : users  			, layout : 'userLayout'} );	});	}exports.index =function(req , res) {	console.log("members/index")	if (!req.isAuthenticated()) {res.redirect('/')};	_noddRepo.getNodds('' , function(docs) {		var count = 1 ;		_.each(docs,  function(item) {			item.srno = count; count++;			console.log(item);		});			res.render('members/index', { title: 'Your nodds' , model : docs ,   layout : 'userLayout'} );	})		}exports.create = function(req , res) {		if (!req.isAuthenticated()) {res.redirect('/')};		res.render('members/create', { title: 'Create your Nodd.' ,  layout : 'userLayout'} );		}exports.createPost = function(req , res) {	var nodd = req.body.nodd;		_noddRepo.insertNodd(nodd);	res.redirect('members/index');}exports.logout = function(req , res) {	req.logout();    res.redirect('/');}exports.DeleteNodd = function(req ,  res){	_noddRepo.DeleteNodd(req.params.id ,  function(_blog) {		res.redirect('members/index');	});};exports.define =  function(app , routes) {	app.get('/members/', routes.index);		app.get('/members/index', routes.index);	app.get('/members/create', routes.create);	app.post('/members/create', routes.createPost);	app.get('/memebers/DeleteNodd/:id' , routes.DeleteNodd);	app.get('/Memebers/DeleteNodd/:id' , routes.DeleteNodd);	app.get('/members/mynodds', routes.mynodds);		app.get('/members/logout' ,  routes.logout)}